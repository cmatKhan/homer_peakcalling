/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Nextflow config file for running minimal tests
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Defines input files and everything required to run a fast and simple pipeline test.

    Use as follows:
        nextflow run cmatkhan/homer_peakcalling_from_bam -profile test,<docker/singularity> --outdir <OUTDIR>

----------------------------------------------------------------------------------------
*/

process {

    withName: 'SAMTOOLS_VIEW' {
        ext.prefix = { "${meta.id}_filtered" } 
        ext.args = [
            "-F 1024",
            "-q 1"
        ].join(' ')
    }

    withName: '.*:HOMER_MAKETAGDIRECTORY_CNTRL' {
        ext.prefix = "realControl"
    }

    withName: '.*:HOMER_.*MAKETAGDIRECTORY.*' {
        ext.args = [
            '-checkGC',
        ].join(' ')
    }

    withName: '.*:HOMER_*FINDPEAKS.*' {
        ext.args = [
            '-L 0',        // 1.5-fold local
            '-F 0',          // 3-fold control
        ].join(' ')
    }

}

